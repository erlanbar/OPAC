@model OPAC.ViewModels.RegisterViewModel

@{
    ViewData["Title"] = "OPAC";
    string sess_guest = ViewBag.SessionGuest == null ? "" : ViewBag.SessionGuest;
}

<div class="row">
    <div class="col-md-12">
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="@Url.Content("~/assets/images/carousel_1.JPG")" style="width:100%;">
                    @* <div class="carousel-caption">
                            <h5>First slide label</h5>
                            <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
                        </div> *@
                </div>

                <div class="carousel-item">
                    <img src="@Url.Content("~/assets/images/carousel_2.JPG")" style="width:100%;">
                    @* <div class="carousel-caption">
                            <h5>Second slide label</h5>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div> *@
                </div>

                <div class="carousel-item">
                    <img src="@Url.Content("~/assets/images/carousel_3.JPG")" style="width:100%;">
                    @* <div class="carousel-caption">
                            <h5>Third slide label</h5>
                            <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
                        </div> *@
                </div>
            </div>

            <!-- Left and right controls -->
            <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
            @* <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next</span>
                </a> *@
        </div>
        @* <div id="mainCarousel" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#mainCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#mainCarousel" data-slide-to="1"></li>
                    <li data-target="#mainCarousel" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="@Url.Content("~/assets/images/ebook4.jpeg")" alt="Los Angeles" style="width:100%; height: 300px;">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>First slide label</h5>
                            <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="@Url.Content("~/assets/images/ebook5.jpeg")" alt="Chicago" style="width:100%; height: 300px;">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Second slide label</h5>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="@Url.Content("~/assets/images/ebook6.jpeg")" alt="New york" style="width:100%; height: 300px;">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Third slide label</h5>
                            <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#mainCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#mainCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div> *@
    </div>
</div>

<div class="row" style="margin: 15px 0px 5px 0px;">
    <input type="submit" class="btn purple btn-block" value="Have you read today? if not, let's read!">
</div>

<a name="aref"></a>

@using (Html.BeginForm("AllBooks", "Home", FormMethod.Post))
{
    <div class="row">
        <div class="col-md-6">
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <div class="input-group-text"><i class="fa fa-search"></i></div>
                </div>
                <input id="inp_homeSearch" type="text" class="form-control" name="homeSearch" placeholder="Search...">
            </div>
        </div>
    </div>
}

<div class="row">
    <div id="rowNewArrival" class="col-md-12" style="padding:0">
        @Html.Partial("NewArrival")
    </div>
</div>
<div class="row">
    <div id="rowTopRating" class="col-md-12" style="padding:0">
        @Html.Partial("TopRating")
    </div>
</div>
<div class="row">
    <div id="rowTopView" class="col-md-12" style="padding:0">
        @Html.Partial("TopView")
    </div>
</div>
<div class="row">
    <div id="rowOthers" class="col-md-12" style="padding:0">
        @Html.Partial("Others")
    </div>
</div>
@* <div class="row">
        <div id="rowTopRatingByCategory" class="col-md-12" style="padding:0">
            @Html.Partial("TopRatingByCategory")
        </div>
    </div> *@

<div class="modal" id="modal_guestForm" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <form asp-action="Register" asp-controller="Login">
                <div class="modal-header">
                    <h3 class="modal-title">Mohon isi data berikut</h3>
                </div>
                <div class="modal-body">
                    <input asp-for="account.user.Pekerjaan" type="hidden" class="form-control" value="Guest">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label asp-for="account.user.Name">@Html.DisplayNameFor(model => model.account.user.Name)</label>
                                <input asp-for="account.user.Name" type="text" class="form-control" placeholder="@Html.DisplayNameFor(model => model.account.user.Name)">
                                <span asp-validation-for="account.user.Name" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label asp-for="account.user.Phone">@Html.DisplayNameFor(model => model.account.user.Phone)</label>
                                <input asp-for="account.user.Phone" type="number" class="form-control" placeholder="@Html.DisplayNameFor(model => model.account.user.Phone)">
                                <span asp-validation-for="account.user.Phone" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>

    $(document).ready(function () {

        $("#inp_homeSearch").val("");
    });

    $(window).on('load', function () {

        var sess_guest = "@sess_guest";

        if (sess_guest == "") {

            $("#modal_guestForm").modal({ backdrop: 'static', keyboard: false });
        }
    });

    function showForm() {
        $('#form').show();
        $('#loading').hide();
        $('.modal-footer').show();
    }
    function hideForm() {
        $('#form').hide();
        $('#loading').show();
        $('.modal-footer').hide();
    }
</script>

<!-- SCRIPT VACANT POSITION-->
<script>

    function doPopUpVacantPositionFP(title, id) {
        var url = '@Url.Action("DialogVacantPositionFP", "Dialog")';
        $.get(url + '/' + id, function (data) {
            var dialog = bootbox.dialog({
                title: title.toUpperCase(),
                className: "VacantPositionFP",
                message: data,
                buttons: {
                    cancel: {
                        label: "&nbsp;&nbsp;&nbsp; Cancel &nbsp;&nbsp;&nbsp;",
                        className: 'btn default',
                        callback: function () {
                            console.log('Cancel clicked');
                        }
                    },
                    ok: {
                        label: "&nbsp;&nbsp;&nbsp; Apply this job &nbsp;&nbsp;&nbsp;",
                        className: "btn blue",
                        callback: function () {
                            toastr["info"]("You must register first", "Info");
                            return false;
                        }
                    }
                }
            });
            dialog.modal("show");
            hideForm();
            setTimeout(function () {
                showForm();
                $('#jobdesc').html($('#jobdestemp').text());
            }, 700);
        });
    }

</script>
